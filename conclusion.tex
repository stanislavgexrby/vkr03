% !TeX spellcheck = ru_RU
% !TEX root = vkr.tex

\section*{Заключение}

В рамках данной работы было проведено экспериментальное исследование производительности библиотеки MyGEMM на одноплатных компьютерах с архитектурой RISC-V. Все поставленные задачи были успешно выполнены.

\textbf{Основные результаты работы:}

\begin{enumerate}
    \item \textbf{Адаптация библиотеки для RISC-V платформ.} Библиотека MyGEMM была успешно адаптирована для работы на одноплатных компьютерах Banana Pi BPI-F3 и StarFive VisionFive 2. Выявлено критическое аппаратное ограничение в 32 потока на рабочую группу, что потребовало модификации параметров запуска всех 11 ядер библиотеки. Разработаны конфигурации параметров (TS, TSM, TSN, WPTM, WPTN), обеспечивающие корректное выполнение ядер с учётом данного ограничения.
    
    \item \textbf{Экспериментальное тестирование производительности.} Проведено комплексное экспериментальное исследование всех 11 ядер библиотеки MyGEMM на двух RISC-V платформах и референсной системе Intel Iris Xe. Для каждой конфигурации параметров выполнено по 100 прогонов операции умножения матриц размером $1024 \times 1024$ элементов. Разработаны скрипты автоматизации тестирования, обеспечивающие воспроизводимость результатов.
    
    \item \textbf{Выявление особенностей производительности на RISC-V.} Установлено, что ядро 11 (clBLAS-подход с регистровой блокировкой без использования локальной памяти) демонстрирует наилучшую производительность на RISC-V платформах, обеспечивая ускорение в 16--18 раз относительно наивной реализации. Классические оптимизации с использованием локальной памяти (ядра 2--5) показывают ускорение в 10--25 раз, что подтверждает их эффективность на встроенных графических ядрах RISC-V процессоров.
    
    \item \textbf{Обнаружение критической проблемы векторизации.} Выявлена серьёзная проблема производительности векторизованных ядер (6--10): они выполняются в 600--1000 раз медленнее на RISC-V платформах по сравнению с Intel Iris Xe. Сформулирована обоснованная гипотеза о причинах деградации: неоптимизированная компиляция векторных операций загрузки/записи (\texttt{vload}/\texttt{vstore}), возможная эмуляция на CPU и проблемы с выравниванием данных в драйверах OpenCL для архитектуры PowerVR BXE.
    
    \item \textbf{Сравнительный анализ и рекомендации.} На основе полученных результатов сформулированы практические рекомендации по выбору оптимизаций для RISC-V платформ: предпочтение регистровой блокировке без локальной памяти (подход ядра 11), использование классических оптимизаций с локальной памятью как компромиссного решения, избегание активной векторизации операций памяти до улучшения драйверов OpenCL.
\end{enumerate}

Исходный код с модификациями параметров запуска и скрипты автоматизации тестирования доступны в форке репозитория MyGEMM~\cite{mygemm_repo_test}.

\subsection*{Дальнейшие направления исследований}

В дальнейшем работа над исследованием производительности библиотек линейной алгебры на RISC-V платформах может включать:

\begin{itemize}
    \item Профилирование выполнения векторизованных ядер с использованием специализированных инструментов анализа производительности OpenCL для подтверждения гипотезы о причинах деградации.
    
    \item Тестирование библиотеки на более новых RISC-V платформах с улучшенными драйверами OpenCL и увеличенными аппаратными ограничениями на размер рабочих групп.
    
    \item Разработка специализированных оптимизаций ядер, учитывающих архитектурные особенности RISC-V процессоров и характеристики их графических ядер PowerVR.
    
    \item Сравнительный анализ производительности MyGEMM с другими библиотеками линейной алгебры, поддерживающими RISC-V архитектуру.
    
    \item Исследование применимости полученных результатов для адаптации других вычислительных библиотек к RISC-V платформам.
\end{itemize}