% !TeX spellcheck = ru_RU
% !TEX root = vkr.tex

\section*{Заключение}

Проведено экспериментальное исследование производительности библиотек MyGEMM и CLBlast на одноплатных компьютерах с графическими ускорителями от Imagination Technologies. Все поставленные задачи выполнены.

Библиотека MyGEMM адаптирована для работы на платформах Banana Pi BPI-F3 и StarFive VisionFive 2 с учётом аппаратного ограничения размера рабочей группы в 512 потоков. Для всех 11 ядер подобраны конфигурации параметров, обеспечивающие корректное выполнение. Проведено тестирование с 100 прогонами для каждой конфигурации на матрицах $1024 \times 1024$ элементов.

Ядро с примененной оптимизацией, соотетствующей номеру 11, (clBLAS-подход с регистровой блокировкой без локальной памяти) показывает лучшую производительность на платформах Imagination Technologies --- ускорение в 16--18 раз относительно наивной реализации. Классические оптимизации с локальной памятью (ядра 2--5) дают ускорение в 10--25 раз. Однако векторизованные ядра (6--10) выполняются в 600--1000 раз медленнее на Imagination Technologies по сравнению с Intel, предположительно из-за проблем в драйверах OpenCL для архитектуры PowerVR BXE. Для платформы Intel наблюдается принципиально иная картина: наилучшие результаты демонстрируют векторизованные ядра (6-9), которые существенно превосходят ядро 11 по производительности.

Для библиотеки CLBlast выполнен автоматический тюнинг на обеих платформах с графическими ускорителями Imagination Technologies. Результаты показали, что на матрицах среднего размера (512--1024) тюнинг ухудшает производительность на 15.6--75.6\% в зависимости от платформы и размера матрицы. На больших матрицах (7680×7680) изменения минимальны (около 0.1\%). На Intel тюнинг даёт небольшое улучшение (1--3\%), что указывает на лучшую адаптацию параметров по умолчанию для Imagination Technologies, чем алгоритма автоматической оптимизации.

CLBlast с параметрами по умолчанию показывает лучшую производительность --- 0.349 секунды (6.16 GFLOPS) на матрицах 1024×1024 для StarFive, что на 40\% быстрее лучшего ядра MyGEMM. После тюнинга производительность снижается до 0.403 секунды (5.32 GFLOPS), но остаётся на 18\% выше MyGEMM. Для практических задач на графических ускорителях Imagination Technologies рекомендуется использовать CLBlast без автотюнинга.

Исходный код с модификациями параметров и скрипты автоматизации доступны в форке репозитория~\cite{mygemm_repo_test}.

\subsection*{Дальнейшие направления}

Работа может быть продолжена в нескольких направлениях.

\begin{itemize}
\item Доработка автотюнера CLBlast для работы с малыми рабочими группами.
\item Тестирование на новых RISC-V платформах с улучшенными драйверами.
\item Тестирование на новых RISC-V платформах с графическими ускорителями, отличными от Imagination Technologies.
\end{itemize}